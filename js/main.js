// ===================== TRANSLATIONS =====================
const translations = {
  ka: {
    "logo": "BMWX",
    "nav.home": "·Éõ·Éó·Éê·Éï·Éê·É†·Éò",
    "nav.auctions": "·Éê·É£·É•·É™·Éò·Éù·Éú·Éî·Éë·Éò",
    "nav.giveaways": "·Éí·Éê·Éó·Éê·Éõ·Éê·É®·Éî·Éë·Éî·Éë·Éò",
    "nav.contact": "·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò",
    "auth.login": "·É®·Éî·É°·Éï·Éö·Éê",
    "hero.title": "BMW X5 ·Éê·É£·É•·É™·Éò·Éù·Éú·Éî·Éë·Éò·É° ·Éû·Éö·Éê·É¢·É§·Éù·É†·Éõ·Éê",
    "hero.subtitle": "·Éû·É†·Éî·Éõ·Éò·É£·Éõ BMW X5 ·Éõ·Éù·Éì·Éî·Éö·Éî·Éë·Éò·É° ·É™·Éù·É™·ÉÆ·Éê·Éö·Éò ·Éê·É£·É•·É™·Éò·Éù·Éú·Éî·Éë·Éò ·Éì·Éê ·Éì·Éî·É¢·Éê·Éö·É£·É†·Éò ·Éò·Éú·É§·Éù·É†·Éõ·Éê·É™·Éò·Éê",
    "hero.cta": "·Éú·Éê·ÉÆ·Éî ·Éê·É£·É•·É™·Éò·Éù·Éú·Éî·Éë·Éò",
    "stats.activeAuctions": "·Éê·É•·É¢·Éò·É£·É†·Éò ·Éê·É£·É•·É™·Éò·Éù·Éú·Éî·Éë·Éò",
    "stats.registeredUsers": "·É†·Éî·Éí·Éò·É°·É¢·É†·Éò·É†·Éî·Éë·É£·Éö·Éò ·Éõ·Éù·Éõ·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éö·Éî·Éë·Éò",
    "stats.vehiclesSold": "·Éí·Éê·Éß·Éò·Éì·É£·Éö·Éò ·Éê·Éï·É¢·Éù·Éõ·Éù·Éë·Éò·Éö·Éî·Éë·Éò",
    "footer.text": "¬© 2026 BMW X5 Platform ‚Äî ·Éß·Éï·Éî·Éö·Éê ·É£·É§·Éö·Éî·Éë·Éê ·Éì·Éê·É™·É£·Éö·Éò·Éê",
    "social.facebook": "Facebook",
    "social.instagram": "Instagram",
    "social.youtube": "YouTube",
    "bmw.sold" : "·É¨·Éò·Éú·Éê ·Éô·Éï·Éò·É†·Éê·É®·Éò ·Éí·Éê·Éß·Éò·Éì·É£·Éö·Éò",
    "filter.all": "·Éß·Éï·Éî·Éö·Éê",
    "filter.2023": "2023",
    "filter.2022": "2022",
    "filter.rare": "·É®·Éî·Éñ·É¶·É£·Éì·É£·Éö·Éò üî•",
    "sold.price": "·É§·Éê·É°·Éò",
    "sold.date": "·Éê·É£·É•·É™·Éò·Éù·Éú·Éò·É° ·Éó·Éê·É†·Éò·É¶·Éò",
    "sold.rarity": "·Éí·Éê·Éë·Éê·É†·Éò·É¢·Éò",
    "sold.year": "·É¨·Éî·Éö·Éò",
    "sold.mileage": "·Éí·Éê·É†·Éë·Éî·Éú·Éò",
    "sold.fuel": "·É°·Éê·É¨·Éï·Éê·Éï·Éò",
    "sold.color": "·É§·Éî·É†·Éò",
    "sold.engine": "·É´·É†·Éê·Éï·Éò",
    "share.facebook": "·Éí·Éê·Éñ·Éò·Éê·É†·Éî·Éë·Éê Facebook-·Éñ·Éî",
    "share.instagram": "·Éí·Éê·Éñ·Éò·Éê·É†·Éî·Éë·Éê Instagram-·Éñ·Éî",
    "share.twitter": "·Éí·Éê·Éñ·Éò·Éê·É†·Éî·Éë·Éê Twitter-·Éñ·Éî",
    "auction.bmw" : "·Éê·É£·É•·É™·Éò·Éù·Éú·Éò·É° ·Éó·Éê·É†·Éò·É¶·Éò: ·Éò·Éê·Éú·Éï·Éê·É†·Éò 6, 2026",
    "x30.auction" : "·Éê·É£·É•·É™·Éò·Éù·Éú·Éò·É° ·Éó·Éê·É†·Éò·É¶·Éò: ·Éú·Éù·Éî·Éõ·Éë·Éî·É†·Éò 5, 2025",
     "filters.title": "·É§·Éò·Éö·É¢·É†·Éî·Éë·Éò",
    "filters.status": "·É°·É¢·Éê·É¢·É£·É°·Éò",
    "filters.year": "·É¨·Éî·Éö·Éò",
    "filters.fuel": "·É°·Éê·É¨·Éï·Éê·Éï·Éò",
    "filters.damage": "·Éì·Éê·Éñ·Éò·Éê·Éú·Éî·Éë·Éê",
    "filters.price": "·É§·Éê·É°·Éò·É° ·Éì·Éò·Éê·Éû·Éê·Éñ·Éù·Éú·Éò",
    "price.below5": "5,000‚Ç¨-·Éõ·Éì·Éî",
    "price.10plus": "10,000‚Ç¨+",
    "price.20plus": "20,000‚Ç¨+",
    "price.30plus": "30,000‚Ç¨+",
    "price.50plus": "50,000‚Ç¨+",
    "bid.now": "·Éì·Éê·Éë·Éò·Éì·Éï·Éê",
    "bid.upcoming": "·Éõ·Éê·Éö·Éî",
    "car.vin": "VIN",
    "car.mileage": "·Éí·Éê·É†·Éë·Éî·Éú·Éò",
    "car.fuel": "·É°·Éê·É¨·Éï·Éê·Éï·Éò",
    "car.engine": "·É´·É†·Éê·Éï·Éò",
    "car.color": "·É§·Éî·É†·Éò",
    "car.damage": "·Éì·Éê·Éñ·Éò·Éê·Éú·Éî·Éë·Éê",
    "damage.front": "·É¨·Éò·Éú·Éê",
    "damage.rear": "·É£·Éô·Éê·Éú·Éê",
    "damage.side": "·Éí·Éï·Éî·É†·Éì·Éò·Éó·Éò",
    "damage.none": "·Éê·É†·Éê",
    "fuel.petrol": "·Éë·Éî·Éú·Éñ·Éò·Éú·Éò",
    "fuel.diesel": "·Éì·Éò·Éñ·Éî·Éö·Éò",
    "fuel.hybrid": "·É∞·Éò·Éë·É†·Éò·Éì·Éò",
    "contact.placeholder.name": "·Éù·Éû·Éî·É†·Éê·É¢·Éù·É†·Éò·É° ·É°·Éê·ÉÆ·Éî·Éö·Éò...",
    "contact.placeholder.msg": "·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éó·Éê ·Éû·Éê·Éô·Éî·É¢·Éò...",
    "contact.subject.tech": "·É¢·Éî·É•·Éú·Éò·Éô·É£·É†·Éò ·Éõ·ÉÆ·Éê·É†·Éì·Éê·É≠·Éî·É†·Éê",
    "contact.subject.biz": "·Éë·Éò·Éñ·Éú·Éî·É° ·É®·Éî·Éõ·Éù·Éó·Éê·Éï·Éê·Éñ·Éî·Éë·Éê",
    "nav.modelss" : "·Éò·Éú·É§·Éù·É†·Éõ·Éê·É™·Éò·Éê",
    "hero.ctaa" : "·Éí·Éê·Éí·Éñ·Éê·Éï·Éú·Éê",
    "gw.status.awaiting": "·É°·É¢·Éê·É¢·É£·É°·Éò: ·Éõ·Éù·Éö·Éù·Éì·Éò·Éú·Éò·É° ·É†·Éî·Éü·Éò·Éõ·Éò",
    "gw.status.verified": "·É°·É¢·Éê·É¢·É£·É°·Éò: ·Éõ·Éù·Éú·Éê·É¨·Éò·Éö·Éî ·Éï·Éî·É†·Éò·É§·Éò·É™·Éò·É†·Éî·Éë·É£·Éö·Éò·Éê",
    "gw.prize.rare": "·É£·Éú·Éò·Éô·Éê·Éö·É£·É†·Éò ·Éû·É†·Éò·Éñ·Éò",
    "gw.req.title": "·Éí·Éê·Éó·Éê·Éõ·Éê·É®·Éî·Éë·Éò·É° ·Éõ·Éù·Éó·ÉÆ·Éù·Éï·Éú·Éî·Éë·Éò",
    "gw.task.insta": "·Éõ·Éò·É∞·Éß·Éî·Éï·Éò·Éó @BMW-·É°",
    "gw.task.verify": "·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·É£·É†·Éò ·Éï·Éî·É†·Éò·É§·Éò·Éô·Éê·É™·Éò·Éê",
    "gw.task.share": "·Éí·Éê·Éñ·Éò·Éê·É†·Éî·Éë·Éê ·É°·Éó·Éù·É†·Éò·É®·Éò",
    "gw.btn.locked": "·Éì·Éê·Éë·Éö·Éù·Éô·Éò·Éö·Éò·Éê ·Éì·Éê·Éï·Éê·Éö·Éî·Éë·Éî·Éë·Éò·É° ·Éí·Éê·Éõ·Éù",
    "gw.btn.ready": "·Éõ·Éù·Éú·Éê·É¨·Éò·Éö·Éî·Éù·Éë·Éò·É° ·Éõ·Éò·É¶·Éî·Éë·Éê",
    "gw.modal.verify.title": "·Éï·Éî·É†·Éò·É§·Éò·Éô·Éê·É™·Éò·Éê ·É°·Éê·É≠·Éò·É†·Éù·Éê",
    "gw.modal.verify.text": "·Éì·Éê·Éê·É°·É†·É£·Éö·Éî·Éó ·Éß·Éï·Éî·Éö·Éê ·Éõ·Éù·Éó·ÉÆ·Éù·Éï·Éú·Éê ·Éõ·Éù·Éú·Éê·É¨·Éò·Éö·Éî·Éù·Éë·Éò·É° ·Éõ·Éò·É°·Éê·É¶·Éî·Éë·Éê·Éì?",
    "gw.modal.btn.yes": "·Éì·Éò·Éê·ÉÆ, ·Éí·Éê·Éí·É†·É´·Éî·Éö·Éî·Éë·Éê",
    "gw.modal.btn.no": "·Éê·É†·Éê, ·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê",
    "gw.game.title": "·É†·Éî·Éê·É•·É™·Éò·Éò·É° ·Éû·É†·Éù·É¢·Éù·Éô·Éù·Éö·Éò",
    "gw.game.wait": "·Éì·Éê·Éî·Éö·Éù·Éì·Éî·Éó...",
    "gw.game.click": "·Éì·Éê·Éê·É≠·Éò·É†·Éî·Éó ·Éê·ÉÆ·Éö·Éê·Éï·Éî!",
    "gw.game.early": "·Éñ·Éî·Éì·Éõ·Éî·É¢·Éê·Éì ·Éê·Éì·É†·Éî·Éê!",
    "gw.game.success": "·Éì·Éî·É®·Éò·É§·É†·Éê·É™·Éò·Éê ·Éì·Éê·É°·É†·É£·Éö·Éì·Éê!",
    "gw.final.title": "·É†·Éî·Éí·Éò·É°·É¢·É†·Éê·É™·Éò·Éê ·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·É£·Éö·Éò·Éê",
    "gw.final.thanks": "·Éõ·Éê·Éì·Éö·Éù·Éë·Éê ·Éõ·Éù·Éú·Éê·É¨·Éò·Éö·Éî·Éù·Éë·Éò·É°·Éó·Éï·Éò·É°",
    "gw.final.text": "·Éó·É•·Éï·Éî·Éú·Éò ·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éî·Éë·Éò ·É®·Éî·Éú·Éê·ÉÆ·É£·Éö·Éò·Éê BMW_M_CONNECT ·Éë·Éê·Éñ·Éê·É®·Éò.",
    "gw.final.id": "·Éó·É•·Éï·Éî·Éú·Éò ID",
    "gw.archive.title": "·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·É£·Éö·Éò_·Éí·Éê·Éó·Éê·Éõ·Éê·É®·Éî·Éë·Éî·Éë·Éò·É°_·Éê·É†·É•·Éò·Éï·Éò",
        "gw.modal.exit": "·Éí·Éê·Éõ·Éù·É°·Éï·Éö·Éê",
        "gw.modal.path": "·Éí·Éê·Éó·Éê·Éõ·Éê·É®·Éî·Éë·Éî·Éë·Éò·É°_·Éê·É†·É•·Éò·Éï·Éò",
        "gw.modal.feedback": "·Éí·Éê·Éõ·Éê·É†·ÉØ·Éï·Éî·Éë·É£·Éö·Éò·É°_·É®·Éó·Éê·Éë·Éî·É≠·Éì·Éò·Éö·Éî·Éë·Éê",
        "gw.modal.report": "·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éò·É°_·É†·Éî·Éû·Éù·É†·É¢·Éò",
        "gw.modal.car.status": "·Éê·Éï·É¢·Éù·Éõ·Éù·Éë·Éò·Éö·Éò·É°_·É°·É¢·Éê·É¢·É£·É°·Éò",
        "gw.modal.entries": "·Éõ·Éù·Éú·Éê·É¨·Éò·Éö·Éî",
        "gw.modal.verified": "·Éï·Éî·É†·Éò·É§·Éò·É™·Éò·É†·Éî·Éë·É£·Éö·Éò",
        "gw.modal.owner": "·Éõ·É§·Éö·Éù·Éë·Éî·Éö·Éò",
        "gw.modal.location": "·Éö·Éù·Éô·Éê·É™·Éò·Éê",
        "gw.modal.date": "·Éí·Éê·Éì·Éê·É™·Éî·Éõ·Éò·É°_·Éó·Éê·É†·Éò·É¶·Éò",
        "gw.status.given": "·Éí·Éê·É™·Éî·Éõ·É£·Éö·Éò·Éê",
        "gw.status.confirmed": "·Éì·Éê·Éì·Éê·É°·É¢·É£·É†·Éî·Éë·É£·Éö·Éò",
        "filter.damage": "·Éì·Éê·Éñ·Éò·Éê·Éú·Éî·Éë·Éê",
        "filter.damage.label": "·Éì·Éê·Éñ·Éò·Éê·Éú·Éî·Éë·Éò·É° ·É¢·Éò·Éû·Éò",
        "filter.damage.clean": "·Éì·Éê·É£·Éñ·Éò·Éê·Éú·Éî·Éë·Éî·Éö·Éò",
        "filter.damage.front": "·É¨·Éò·Éú·Éê ·Éì·Éê·Éñ·Éò·Éê·Éú·Éî·Éë·Éê",
        "filter.damage.rear": "·É£·Éô·Éê·Éú·Éê ·Éì·Éê·Éñ·Éò·Éê·Éú·Éî·Éë·Éê",
        "filter.year": "·É¨·Éî·Éö·Éò",
        "filter.year.label": "·Éí·Éê·Éõ·Éù·É®·Éï·Éî·Éë·Éò·É° ·É¨·Éî·Éö·Éò",
        "filter.fuel": "·É°·Éê·É¨·Éï·Éê·Éï·Éò",
        "filter.fuel.label": "·É´·É†·Éê·Éï·Éò·É° ·É¢·Éò·Éû·Éò",
        "filter.fuel.diesel": "·Éì·Éò·Éñ·Éî·Éö·Éò",
        "filter.fuel.petrol": "·Éë·Éî·Éú·Éñ·Éò·Éú·Éò",
        "filter.fuel.hybrid": "·É∞·Éò·Éë·É†·Éò·Éì·Éò",
        "filter.presets": "·Éû·É†·Éî·Éñ·Éî·É¢·Éî·Éë·Éò",
        "filter.presets.label": "·É°·É¨·É†·Éê·É§·Éò ·É§·Éê·É°·Éò",
        "filter.custom": "·É°·ÉÆ·Éï·Éê",
        "filter.custom.label": "·É§·Éê·É°·Éò·É° ·Éì·Éò·Éê·Éû·Éê·Éñ·Éù·Éú·Éò (‚Ç¨)",
        "filter.custom.min": "·Éõ·Éò·Éú",
        "filter.custom.max": "·Éõ·Éê·É•·É°",
        "filter.common.all": "·Éß·Éï·Éî·Éö·Éê",
        "filter.brand.title": "·É§·Éò·Éö·É¢·É†·Éî·Éë·Éò",
          "auth.email": "·Éî·Éö·É§·Éù·É°·É¢·Éê",
        "auth.password": "·Éû·Éê·É†·Éù·Éö·Éò",
        "auth.login": "·É®·Éî·É°·Éï·Éö·Éê",
        "auth.register": "·É†·Éî·Éí·Éò·É°·É¢·É†·Éê·É™·Éò·Éê",
        "auth.firstname": "·É°·Éê·ÉÆ·Éî·Éö·Éò",
        "auth.lastname": "·Éí·Éï·Éê·É†·Éò",
        "auth.username": "·Éõ·Éù·Éõ·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éö·Éò·É° ·É°·Éê·ÉÆ·Éî·Éö·Éò",
        "auth.confirmPassword": "·Éû·Éê·É†·Éù·Éö·Éò·É° ·Éì·Éê·Éì·Éê·É°·É¢·É£·É†·Éî·Éë·Éê",
        "auth.country": "·É•·Éï·Éî·Éß·Éê·Éú·Éê",
        "auth.city": "·É•·Éê·Éö·Éê·É•·Éò",
        "auth.phone": "·É¢·Éî·Éö·Éî·É§·Éù·Éú·Éò·É° ·Éú·Éù·Éõ·Éî·É†·Éò",
        "auth.birthdate": "·Éì·Éê·Éë·Éê·Éì·Éî·Éë·Éò·É° ·Éó·Éê·É†·Éò·É¶·Éò"
        
        
  },
  en: {
    "logo": "BMWX",
    "nav.home": "Home",
    "nav.auctions": "Auctions",
    "nav.giveaways": "Giveaways",
    "nav.contact": "Contact",
    "auth.login": "Login",
    "hero.title": "BMW X5 Auction Platform",
    "hero.subtitle": "Premium BMW X5 live auctions and detailed information",
    "hero.cta": "See Auctions",
    "stats.activeAuctions": "Active Auctions",
    "stats.registeredUsers": "Registered Users",
    "stats.vehiclesSold": "Vehicles Sold",
    "footer.text": "¬© 2026 BMW X5 Platform ‚Äî All rights reserved",
    "social.facebook": "Facebook",
    "social.instagram": "Instagram",
    "social.youtube": "YouTube",
    "bmw.sold" : "Sold in the last week",
    "filter.all": "All",
    "filter.2023": "2023",
    "filter.2022": "2022",
    "filter.rare": "Rare üî•",
    "sold.price": "Price",
    "sold.date": "Auction Date",
    "sold.rarity": "Rarity",
    "sold.year": "Year",
    "sold.mileage": "Mileage",
    "sold.fuel": "Fuel Type",
    "sold.color": "Color",
    "sold.engine": "Engine",
    "share.facebook": "Share on Facebook",
    "share.instagram": "Share on Instagram",
    "share.twitter": "Share on Twitter",
    "auction.bmw" : "Auction date: Jan 6, 2026",
    "x30.auction" : "Auction date: Jan 5, 2026",
     "filters.title": "Filters",
    "filters.status": "Status",
    "filters.year": "Year",
    "filters.fuel": "Fuel",
    "filters.damage": "Damage",
    "filters.price": "Price Range",
    "price.below5": "Below ‚Ç¨5K",
    "price.10plus": "‚Ç¨10K+",
    "price.20plus": "‚Ç¨20K+",
    "price.30plus": "‚Ç¨30K+",
    "price.50plus": "‚Ç¨50K+",
    "bid.now": "Bid Now",
    "bid.upcoming": "Upcoming",
    "car.vin": "VIN",
    "car.mileage": "Mileage",
    "car.fuel": "Fuel",
    "car.engine": "Engine",
    "car.color": "Color",
    "car.damage": "Damage",
    "damage.front": "Front",
    "damage.rear": "Rear",
    "damage.side": "Side",
    "damage.none": "None",
    "fuel.petrol": "Petrol",
    "fuel.diesel": "Diesel",
    "fuel.hybrid": "Hybrid",
    "contact.placeholder.name": "Operator Identifier...",
    "contact.subject.tech": "Technical Support",
    "contact.subject.biz": "Business Inquiry",
    "contact.placeholder.msg": "Enter data payload...",
    "nav.modelss" : "Info",
    "hero.ctaa" : "Send",
    "gw.status.awaiting": "STATUS: AWAITING_PARTICIPATION",
    "gw.status.verified": "STATUS: PARTICIPANT_VERIFIED",
    "gw.prize.rare": "ULTIMATE PRIZE",
    "gw.req.title": "GIVEAWAY_REQUIREMENTS",
    "gw.task.insta": "Follow @BMW Official",
    "gw.task.verify": "Human Verification",
    "gw.task.share": "Share to Story",
    "gw.btn.locked": "LOCKED_BY_TASKS",
    "gw.btn.ready": "ENTER_GIVEAWAY",
    "gw.modal.verify.title": "VERIFICATION_REQUIRED",
    "gw.modal.verify.text": "Have you completed all the giveaway requirements?",
    "gw.modal.btn.yes": "YES, PROCEED",
    "gw.modal.btn.no": "NO, CANCEL",
    "gw.game.title": "REACTION_PROTOCOL",
    "gw.game.wait": "WAITING...",
    "gw.game.click": "CLICK NOW!",
    "gw.game.early": "TOO EARLY!",
    "gw.game.success": "DECRYPTED!",
    "gw.final.title": "REGISTRATION_COMPLETE",
    "gw.final.thanks": "THANK YOU FOR PARTICIPATING",
    "gw.final.text": "Your entry has been secured in the BMW_M_CONNECT database.",
    "gw.final.id": "YOUR_ENTRY_ID",
    "gw.archive.title": "COMPLETED_GIVEAWAY_ARCHIVE",
        "gw.modal.exit": "EXIT_INTERFACE",
        "gw.modal.path": "GIVEAWAY_ARCHIVE",
        "gw.modal.feedback": "WINNER_FEEDBACK_PROTOCOL",
        "gw.modal.report": "ACTIVITY_REPORT",
        "gw.modal.car.status": "VEHICLE_STATUS",
        "gw.modal.entries": "TOTAL_ENTRIES",
        "gw.modal.verified": "HUMAN_VERIFIED",
        "gw.modal.owner": "CURRENT_OWNER",
        "gw.modal.location": "GEOGRAPHIC_LOCATION",
        "gw.modal.date": "TRANSFER_DATE",
        "gw.status.given": "TRANSFERRED",
        "gw.status.confirmed": "CONFIRMED",
        "filter.damage": "Damage",
        "filter.damage.label": "Damage Type",
        "filter.damage.clean": "Clean",
        "filter.damage.front": "Front Damage",
        "filter.damage.rear": "Rear Damage",
        "filter.year": "Year",
        "filter.year.label": "Vehicle Year",
        "filter.fuel": "Fuel",
        "filter.fuel.label": "Engine Type",
        "filter.fuel.diesel": "Diesel",
        "filter.fuel.petrol": "Petrol",
        "filter.fuel.hybrid": "Hybrid",
        "filter.presets": "Presets",
        "filter.presets.label": "Quick Price",
        "filter.custom": "Custom",
        "filter.custom.label": "Range (‚Ç¨)",
        "filter.custom.min": "Min",
        "filter.custom.max": "Max",
        "filter.common.all": "All",
        "filter.brand.title": "Filters",
        "auth.email": "Email",
        "auth.password": "Password",
        "auth.login": "Login",
        "auth.register": "Register",
        "auth.firstname": "First Name",
        "auth.lastname": "Last Name",
        "auth.username": "Username",
        "auth.confirmPassword": "Confirm Password",
        "auth.country": "Country",
        "auth.city": "City",
        "auth.phone": "Phone",
        "auth.birthdate": "Birth Date"
  }
};

// ===================== LANGUAGE SWITCHER =====================
function setLanguage(lang) {
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.dataset.i18n;
    if (translations[lang]?.[key]) el.textContent = translations[lang][key];
  });
  document.documentElement.lang = lang;
}

function initLanguageSwitcher() {
  const buttons = document.querySelectorAll(".lang-btn");
  if (!buttons.length) return;

  buttons.forEach(btn => {
    btn.addEventListener("click", () => {
      const lang = btn.dataset.lang;
      if (!lang) return;
      setLanguage(lang);
      buttons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
    });
  });
}

// ===================== NAV HIGHLIGHT =====================
function setActiveNav() {
  const links = document.querySelectorAll(".main-nav a");
  const current = location.pathname.split("/").pop() || "index.html";
  links.forEach(link => link.classList.toggle("active", link.getAttribute("href") === current));
}

// ===================== HEADER INJECTION =====================
async function loadHeader() {
  const headerRoot = document.getElementById("header-root");
  if (!headerRoot) return;

  const res = await fetch("partials/header.html");
  headerRoot.innerHTML = await res.text();

  // AFTER HEADER IS IN DOM
  setActiveNav();
  initLanguageSwitcher();
  setLanguage("ka"); // default language
}

// ===================== STAT COUNTERS =====================
function animateCounter(element, target, duration = 30000) {
  let start = 0;
  const startTime = performance.now();

  function update(currentTime) {
    const elapsed = currentTime - startTime;
    const progress = Math.min(elapsed / duration, 1);
    const eased = 1 - Math.pow(1 - progress, 3);
    const value = Math.floor(eased * target);
    element.textContent = value.toLocaleString();
    if (progress < 1) requestAnimationFrame(update);
    else element.textContent = target.toLocaleString();
  }

  requestAnimationFrame(update);
}

function initCounters() {
  const counters = document.querySelectorAll(".stat-value");
  counters.forEach(counter => {
    const target = parseInt(counter.dataset.target, 10);
    animateCounter(counter, target);
  });
}

// ===================== MODAL LOGIC =====================
function initSoldModal() {
  const soldCards = document.querySelectorAll(".sold-card");
  const soldModal = document.getElementById("soldModal");
  if (!soldModal || !soldCards.length) return;

  const modalImg = soldModal.querySelector(".sold-modal-img");
  const modalTitle = soldModal.querySelector(".sold-modal-title");
  const modalPrice = soldModal.querySelector(".sold-modal-price");
  const modalDate = soldModal.querySelector(".sold-modal-date");
  const modalRarity = soldModal.querySelector(".sold-modal-rarity");
  const modalYear = soldModal.querySelector(".sold-modal-year");
  const modalMileage = soldModal.querySelector(".sold-modal-mileage");
  const modalFuel = soldModal.querySelector(".sold-modal-fuel");
  const modalColor = soldModal.querySelector(".sold-modal-color");
  const modalEngine = soldModal.querySelector(".sold-modal-engine");
  const modalClose = soldModal.querySelector(".sold-close");
  const prevCarBtn = soldModal.querySelector("#prevCar");
  const nextCarBtn = soldModal.querySelector("#nextCar");

  let currentIndex = 0;

  function openModal(index) {
    const card = soldCards[index];
    currentIndex = index;
    modalImg.src = card.querySelector("img").src;
    modalTitle.textContent = card.querySelector("h3").textContent;
    modalPrice.textContent = card.querySelector("p:nth-child(2)").textContent;
    modalDate.textContent = card.querySelector("p:nth-child(3)").textContent;
    modalRarity.textContent = card.dataset.rare === "yes" ? "Rare üî•" : "Standard";
    modalYear.textContent = card.dataset.year || "-";
    modalMileage.textContent = card.dataset.mileage || "-";
    modalFuel.textContent = card.dataset.fuel || "-";
    modalColor.textContent = card.dataset.color || "-";
    modalEngine.textContent = card.dataset.engine || "-";
    soldModal.classList.add("active");
    document.body.style.overflow = "hidden";
  }

  function prevCar() {
    currentIndex = (currentIndex - 1 + soldCards.length) % soldCards.length;
    openModal(currentIndex);
  }

  function nextCar() {
    currentIndex = (currentIndex + 1) % soldCards.length;
    openModal(currentIndex);
  }

  soldCards.forEach((card, i) => {
    card.addEventListener("click", () => openModal(i));
  });

  modalClose.addEventListener("click", () => {
    soldModal.classList.remove("active");
    document.body.style.overflow = "";
  });

  prevCarBtn.addEventListener("click", prevCar);
  nextCarBtn.addEventListener("click", nextCar);

  document.addEventListener("keydown", e => {
    if (e.key === "Escape") {
      soldModal.classList.remove("active");
      document.body.style.overflow = "";
    }
    if (e.key === "ArrowLeft") prevCar();
    if (e.key === "ArrowRight") nextCar();
  });
}

// ===================== FILTERS =====================
function initFilters() {
  const filterButtons = document.querySelectorAll(".filter-btn");
  const soldCards = document.querySelectorAll(".sold-card");
  if (!filterButtons.length || !soldCards.length) return;

  filterButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      filterButtons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");

      const filter = btn.dataset.filter;
      soldCards.forEach((card, i) => {
        card.style.transition = "all 0.5s ease";
        setTimeout(() => {
          if (filter === "all") card.style.display = "block";
          else if (filter === "rare") card.style.display = card.dataset.rare === "yes" ? "block" : "none";
          else card.style.display = card.dataset.year === filter ? "block" : "none";
        }, i * 50);
      });
    });
  });
}

// ===================== STAGGERED ENTRY =====================
function initStaggeredCards() {
  const soldCards = document.querySelectorAll(".sold-card");
  soldCards.forEach((card, i) => {
    setTimeout(() => card.classList.add("show"), i * 120);
  });
}

// ===================== IMAGE ZOOM =====================
function initZoom() {
  const zoomOverlay = document.getElementById("zoomOverlay");
  const zoomedImage = document.getElementById("zoomedImage");
  const zoomClose = document.querySelector(".zoom-close");
  const modalImgZoomable = document.getElementById("modalImgZoomable");
  if (!zoomOverlay || !zoomedImage || !zoomClose || !modalImgZoomable) return;

  modalImgZoomable.addEventListener("click", () => {
    zoomedImage.src = modalImgZoomable.src;
    zoomOverlay.classList.add("active");
    document.body.style.overflow = "hidden";
  });

  zoomClose.addEventListener("click", () => {
    zoomOverlay.classList.remove("active");
    document.body.style.overflow = "";
  });

  document.addEventListener("keydown", e => {
    if (e.key === "Escape" && zoomOverlay.classList.contains("active")) {
      zoomOverlay.classList.remove("active");
      document.body.style.overflow = "";
    }
  });
}

// ===================== INIT ALL =====================
document.addEventListener("DOMContentLoaded", () => {
  loadHeader();
  initCounters();
  initSoldModal();
  initFilters();
  initStaggeredCards();
  initZoom();
});







// Auctions


// auctions.js

/* =========================
   IMAGE SLIDER (UNCHANGED)
========================= */
document.querySelectorAll('.car-card').forEach(card => {
  const images = card.querySelectorAll('.car-slider img');
  if (!images.length) return;

  let index = 0;
  images[index].classList.add('active');

  setInterval(() => {
    images[index].classList.remove('active');
    index = (index + 1) % images.length;
    images[index].classList.add('active');
  }, 3000);
});

/* =========================
   FILTER CORE
========================= */
const rows = document.querySelectorAll(".auction-row");
const emptyState = document.getElementById("emptyState");

const statusSel = document.getElementById("filterStatus");
const yearSel = document.getElementById("filterYear");
const fuelSel = document.getElementById("filterFuel");
const damageSel = document.getElementById("filterDamage");

const priceButtons = document.querySelectorAll(".price-option");
const minInput = document.getElementById("customMin");
const maxInput = document.getElementById("customMax");
const resetBtn = document.getElementById("resetFilters");

/* =========================
   PRICE STATE (SINGLE SOURCE)
========================= */
let priceFilter = null; // { min, max }

/* =========================
   APPLY FILTERS (VISUAL SAFE)
========================= */
function applyFilters() {
  let visibleCount = 0;

  rows.forEach(row => {
    const price = +row.dataset.price;
    const status = row.dataset.status;
    const year = row.dataset.year;
    const fuel = row.dataset.fuel;
    const damage = row.dataset.damage;

    const matches =
      (statusSel.value === "all" || status === statusSel.value) &&
      (yearSel.value === "all" || year === yearSel.value) &&
      (fuelSel.value === "all" || fuel === fuelSel.value) &&
      (damageSel.value === "all" || damage === damageSel.value) &&
      (!priceFilter ||
        ((priceFilter.min === null || price >= priceFilter.min) &&
         (priceFilter.max === null || price <= priceFilter.max)));

    /* üîí LOCK VISUALS */
    row.style.display = matches ? "flex" : "none";

    if (matches) visibleCount++;
  });

  emptyState.hidden = visibleCount !== 0;
}

/* =========================
   SELECT FILTERS
========================= */
[statusSel, yearSel, fuelSel, damageSel].forEach(select => {
  select.addEventListener("change", applyFilters);
});

/* =========================
   PRICE PRESETS (TOGGLEABLE)
========================= */
priceButtons.forEach(btn => {
  btn.addEventListener("click", () => {
    const min = btn.dataset.min ? +btn.dataset.min : null;
    const max = btn.dataset.max ? +btn.dataset.max : null;

    const isActive =
      btn.classList.contains("active") &&
      priceFilter &&
      priceFilter.min === min &&
      priceFilter.max === max;

    // TOGGLE OFF
    if (isActive) {
      priceFilter = null;
      btn.classList.remove("active");
    } 
    // TOGGLE ON
    else {
      priceButtons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      priceFilter = { min, max };
    }

    minInput.value = "";
    maxInput.value = "";

    applyFilters();
  });
});

/* =========================
   CUSTOM PRICE INPUT
========================= */
[minInput, maxInput].forEach(input => {
  input.addEventListener("input", () => {
    priceButtons.forEach(b => b.classList.remove("active"));

    const min = minInput.value ? +minInput.value : null;
    const max = maxInput.value ? +maxInput.value : null;

    priceFilter = (min !== null || max !== null)
      ? { min, max }
      : null;

    applyFilters();
  });
});

/* =========================
   RESET FILTERS
========================= */
resetBtn.addEventListener("click", () => {
  statusSel.value = "all";
  yearSel.value = "all";
  fuelSel.value = "all";
  damageSel.value = "all";

  priceFilter = null;
  minInput.value = "";
  maxInput.value = "";

  priceButtons.forEach(b => b.classList.remove("active"));

  applyFilters();
});

document.querySelectorAll('.car-slider').forEach(slider => {
  const images = slider.querySelectorAll('img');
  let index = 0;

  if(images.length > 0) images[0].classList.add('active');

  const leftBtn = slider.querySelector('.slider-btn.left');
  const rightBtn = slider.querySelector('.slider-btn.right');

  // Prevent clicks on arrows from triggering card clicks
  [leftBtn, rightBtn].forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation(); 
      images[index].classList.remove('active');
      
      if (btn.classList.contains('left')) {
        index = (index - 1 + images.length) % images.length;
      } else {
        index = (index + 1) % images.length;
      }
      
      images[index].classList.add('active');
    });
  });
});

function initSliders() {
  document.querySelectorAll('.car-slider').forEach(slider => {
    const images = slider.querySelectorAll('img');
    if (images.length === 0) return;

    // Reset: Remove 'active' from all and give it to the first one
    images.forEach(img => img.classList.remove('active'));
    images[0].classList.add('active');

    // ... (rest of your click listener logic here)
  });
}

function toggleFilter(category) {
  const targetId = `opts-${category}`;
  const drawer = document.getElementById(targetId);
  const btn = drawer.parentElement.querySelector('.value-btn');

  // Close all others
  document.querySelectorAll('.flyout-drawer').forEach(d => {
    if (d.id !== targetId) {
      d.classList.remove('open');
      d.parentElement.querySelector('.value-btn').classList.remove('active');
    }
  });

  // Toggle current
  const isOpen = drawer.classList.contains('open');
  drawer.classList.toggle('open', !isOpen);
  btn.classList.toggle('active', !isOpen);
}

// Close when clicking outside sidebar
document.addEventListener('click', (e) => {
  if (!e.target.closest('.filter-group')) {
    document.querySelectorAll('.flyout-drawer').forEach(d => {
      d.classList.remove('open');
      d.parentElement.querySelector('.value-btn').classList.remove('active');
    });
  }
});


let currentSlideIndex = 0;

function moveSlide(buttonElement, step) {
    // 1. Find the specific container this button belongs to
    const container = buttonElement.parentElement;
    
    // 2. Find all images inside THIS container
    const slides = container.querySelectorAll('.slide');
    
    // 3. Find the index of the currently active image
    let activeIndex = Array.from(slides).findIndex(slide => slide.classList.contains('active'));

    // 4. Remove active class from the current image
    slides[activeIndex].classList.remove('active');

    // 5. Calculate new index (Looping logic)
    activeIndex += step;
    if (activeIndex >= slides.length) {
        activeIndex = 0;
    } else if (activeIndex < 0) {
        activeIndex = slides.length - 1;
    }

    // 6. Show the new image
    slides[activeIndex].classList.add('active');
}





// 1. Global State (Think of these as your Private Class Members)
let currentBid = 0;
let auctionTimer = null; // Using one name for the interval
let timeLeft = 10;
let isWinning = false;
const botNames = ["CyberBimmer", "MunichSpec", "BavarianBot", "X5_Lover"];

// 2. Open Auction
function openAuction(price, imgPath, modelName) {
    currentBid = Number(price);
    timeLeft = 10;
    isWinning = false;

    // Show Modal
    const modal = document.getElementById('auction-modal');
    if (modal) modal.style.display = 'block';

    // Update UI Elements
    const mainImg = document.getElementById('modal-main-img');
    const winImg = document.getElementById('win-car-img');
    if (mainImg) mainImg.src = imgPath;
    if (winImg) winImg.src = imgPath;

    document.getElementById('modal-car-tag').innerText = modelName;
    updatePriceUI();
    
    // Initial Log
    const log = document.getElementById('history-log');
    log.innerHTML = `<div class="feed-entry">System ready...</div>`;
    addLog(`Target: ${modelName} identified.`);

    resetTimer(); // Start the clock
}

// 3. Bidding Logic (Unified)
function userBid(amount) {
    currentBid += amount;
    isWinning = true;
    updateStatus("WINNING");
    updatePriceUI();
    resetTimer();
    addLog(`USER placed bid: +‚Ç¨${amount}`, "#3d85ff");
    
    // Bot reaction logic
    setTimeout(botReaction, 1500 + Math.random() * 2000);
}

function botReaction() {
    // Only react if the user is currently winning and modal is open
    const modalOpen = document.getElementById('auction-modal').style.display === 'block';
    if (modalOpen && isWinning && Math.random() > 0.4) { 
        const bidIncrease = 100;
        currentBid += bidIncrease;
        isWinning = false;
        updateStatus("OUTBID");
        updatePriceUI();
        resetTimer();
        
        const randomBot = botNames[Math.floor(Math.random() * botNames.length)];
        addLog(`${randomBot} placed bid: +‚Ç¨${bidIncrease}`, "#ff4444");
    }
}

// 4. UI Helper Functions
function updatePriceUI() {
    const formatted = "‚Ç¨" + currentBid.toLocaleString();
    const display = document.getElementById('modal-price-display');
    
    if (display) {
        display.innerText = formatted;
        
        // Neverlose "Data Injection" Animation
        display.style.transition = "none";
        display.style.color = "#fff";
        display.style.textShadow = "0 0 15px #3d85ff"; // Bright pulse
        
        setTimeout(() => {
            display.style.transition = "all 0.4s ease";
            display.style.textShadow = "none";
            // If outbid, turn price dim red; if winning, keep it bright
            display.style.color = isWinning ? "#3d85ff" : "#ff4444";
        }, 50);
    }
}

function updateStatus(state) {
    const statusBox = document.getElementById('status-glow');
    if (!statusBox) return;

    if (state === "WINNING") {
        statusBox.className = "nl-status winning";
        statusBox.innerText = "> STATUS: HIGHEST_BIDDER";
    } else {
        statusBox.className = "nl-status outbid";
        statusBox.innerText = "> STATUS: OUTBID_BY_EXTERNAL_SOURCE";
    }
}

function addLog(message, color = "#888") {
    const log = document.getElementById('history-log');
    const entry = document.createElement('div');
    entry.className = "feed-entry";
    
    // Add a terminal-style prefix
    const timestamp = new Date().toLocaleTimeString([], { hour12: false });
    entry.innerHTML = `<span style="color: #444;">[${timestamp}]</span> <span style="color: ${color}">${message}</span>`;
    
    log.prepend(entry);
    
    // Simple NL fade-in animation via JS
    entry.style.opacity = "0";
    entry.style.transform = "translateX(-10px)";
    setTimeout(() => {
        entry.style.transition = "all 0.2s ease";
        entry.style.opacity = "1";
        entry.style.transform = "translateX(0)";
    }, 10);
}

// 5. Timer & Win/Loss Logic
function resetTimer() {
    clearInterval(auctionTimer);
    timeLeft = 10;
    
    const timerText = document.getElementById('timer-text');
    const timerBar = document.getElementById('timer-bar');

    auctionTimer = setInterval(() => {
        timeLeft--;
        if (timerText) timerText.innerText = timeLeft + "s";
        if (timerBar) timerBar.style.width = (timeLeft * 10) + "%";

        if (timeLeft <= 0) {
            clearInterval(auctionTimer);
            finishAuction();
        }
    }, 1000);
}

function finishAuction() {
    if (isWinning) {
        document.getElementById('win-screen').style.display = 'flex';
        addLog("CRITICAL: Asset ownership transferred to USER.", "#00ff88");
    } else {
        alert("OUTBID: Connection lost to bidding server.");
        closeAuction();
    }
}

// 6. Navigation & Utility
function switchTab(tabId, element) {
    document.querySelectorAll('.nl-tab-content').forEach(t => t.style.display = 'none');
    document.getElementById('tab-' + tabId).style.display = 'block';
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    element.classList.add('active');
}

function closeAuction() {
    document.getElementById('auction-modal').style.display = 'none';
    document.getElementById('win-screen').style.display = 'none';
    clearInterval(auctionTimer);
}

function collectAsset() {
    // 1. Play a "Success" pulse on the win screen before closing
    const winBox = document.querySelector('.nl-win-overlay');
    winBox.style.transition = "all 0.5s ease";
    winBox.style.filter = "brightness(2) blur(10px)";
    winBox.style.opacity = "0";

    setTimeout(() => {
        // 2. Close the modal
        closeAuction();
        
        // 3. Update the main page card to show "OWNED"
        // This finds the button you clicked to open the auction
        const allButtons = document.querySelectorAll('.bid-btn');
        allButtons.forEach(btn => {
            // If the price matches what we just 'won', mark it as owned
            if (btn.innerText !== "OWNED" && btn.previousElementSibling.innerText.includes(currentBid.toLocaleString())) {
                btn.innerText = "OWNED";
                btn.style.background = "rgba(0, 255, 136, 0.1)";
                btn.style.color = "#00ff88";
                btn.style.border = "1px solid #00ff88";
                btn.disabled = true;
                btn.style.cursor = "default";
            }
        });

        // 4. Reset the win box for next time
        winBox.style.filter = "none";
        winBox.style.opacity = "1";
    }, 500);
}



document.getElementById('loginForm')?.addEventListener('submit', function(e) {
    e.preventDefault();
    const btn = e.target.querySelector('button');
    
    // ·É¶·Éò·Éö·Éê·Éô·Éò·É° ·É¢·Éî·É•·É°·É¢·Éò·É° ·É®·Éî·É™·Éï·Éö·Éê (C++ style logic: state change)
    btn.innerText = "AUTHENTICATING...";
    btn.style.opacity = "0.7";
    btn.disabled = true;

    // 1.5 ·É¨·Éê·Éõ·É®·Éò ·Éí·Éê·Éì·Éê·Éß·Éï·Éê·Éú·Éê ·Éõ·Éó·Éê·Éï·Éê·É† ·Éí·Éï·Éî·É†·Éì·Éñ·Éî
    setTimeout(() => {
        window.location.href = "index.html";
    }, 1500);
});





function toggleAuthMode() {
    const loginForm = document.getElementById('loginForm');
    const registerForm = document.getElementById('registerForm');
    const toggleBtn = document.getElementById('toggle-auth');
    const switchText = document.getElementById('switch-text');
    const headerTitle = document.querySelector('.nl-header h1');

    if (loginForm.style.display !== 'none') {
        // ·Éí·Éê·Éì·Éê·É†·Éó·Éï·Éê ·É†·Éî·Éí·Éò·É°·É¢·É†·Éê·É™·Éò·Éê·Éñ·Éî
        loginForm.style.display = 'none';
        registerForm.style.display = 'block';
        registerForm.classList.add('fade-in');
        
        headerTitle.innerText = 'CREATE_NEW_IDENTITY';
        switchText.innerText = 'Already have a license?';
        toggleBtn.innerText = 'Back to Login';
    } else {
        // ·Éí·Éê·Éì·Éê·É†·Éó·Éï·Éê ·Éö·Éù·Éí·Éò·Éú·Éñ·Éî
        registerForm.style.display = 'none';
        loginForm.style.display = 'block';
        loginForm.classList.add('fade-in');
        
        headerTitle.innerText = 'LOGIN_SESSION';
        switchText.innerText = "Don't have an active license?";
        toggleBtn.innerText = 'Create Account';
    }
}

// ·É§·Éù·É†·Éõ·Éò·É° ·Éí·Éê·Éí·Éñ·Éê·Éï·Éú·Éò·É° ·É°·Éò·Éõ·É£·Éö·Éê·É™·Éò·Éê (·É†·Éî·Éí·Éò·É°·É¢·É†·Éê·É™·Éò·Éò·É°·Éó·Éï·Éò·É°)
document.getElementById('registerForm')?.addEventListener('submit', function(e) {
    e.preventDefault();
    const btn = e.target.querySelector('button');
    btn.innerText = "REGISTERING_UNIT...";
    
    setTimeout(() => {
        alert("Account Created! Please Login.");
        toggleAuthMode(); // ·Éï·Éê·Éë·É†·É£·Éú·Éî·Éë·Éó ·Éö·Éù·Éí·Éò·Éú·Éñ·Éî
    }, 2000);
});




// State Manager
function showForm(mode) {
    const forms = {
        login: document.getElementById('loginForm'),
        register: document.getElementById('registerForm'),
        recovery: document.getElementById('recoveryForm')
    };
    
    const headerTitle = document.querySelector('.nl-header h1');
    const footerText = document.getElementById('switch-text');
    const toggleBtn = document.getElementById('toggle-auth');

    // ·Éß·Éï·Éî·Éö·Éê ·É§·Éù·É†·Éõ·Éò·É° ·Éì·Éê·Éõ·Éê·Éö·Éï·Éê
    Object.values(forms).forEach(f => {
        if(f) f.style.display = 'none';
    });

    // ·Éô·Éù·Éú·Éô·É†·Éî·É¢·É£·Éö·Éò ·É§·Éù·É†·Éõ·Éò·É° ·É©·Éï·Éî·Éú·Éî·Éë·Éê
    if (mode === 'register') {
        forms.register.style.display = 'block';
        headerTitle.innerText = 'CREATE_NEW_IDENTITY';
        footerText.innerText = 'Already have a license?';
        toggleBtn.innerText = 'Back to Login';
        toggleBtn.onclick = () => showForm('login');
    } 
    else if (mode === 'recovery') {
        forms.recovery.style.display = 'block';
        headerTitle.innerText = 'ACCESS_RECOVERY_MODE';
        footerText.innerText = 'Remembered your key?';
        toggleBtn.innerText = 'Back to Login';
        toggleBtn.onclick = () => showForm('login');
    } 
    else {
        forms.login.style.display = 'block';
        headerTitle.innerText = 'LOGIN_SESSION';
        footerText.innerText = "Don't have an active license?";
        toggleBtn.innerText = 'Create Account';
        toggleBtn.onclick = () => showForm('register');
    }
}

// ·Éì·Éê·Éê·Éô·Éê·Éï·É®·Éò·É†·Éî "Lost Access?" ·Éö·Éò·Éú·Éô·Éò
document.querySelector('.nl-link').addEventListener('click', (e) => {
    e.preventDefault();
    showForm('recovery');
});

// ·É§·Éù·É†·Éõ·Éò·É° ·Éí·Éê·Éí·Éñ·Éê·Éï·Éú·Éò·É° ·É°·Éò·Éõ·É£·Éö·Éê·É™·Éò·Éê
document.getElementById('recoveryForm')?.addEventListener('submit', function(e) {
    e.preventDefault();
    const btn = e.target.querySelector('button');
    btn.innerText = "SENDING_RESTORE_LINK...";
    
    setTimeout(() => {
        alert("If the email exists, a reset link has been dispatched.");
        showForm('login');
    }, 2000);
});

/**
 * BMW X - Next-Gen Module Controller
 */

// 1. ·É¢·Éê·Éë·Éî·Éë·Éò·É° ·Éí·Éê·Éì·Éê·É†·Éó·Éï·Éò·É° ·É§·É£·Éú·É•·É™·Éò·Éê (·É£·É°·Éê·É§·É†·Éó·ÉÆ·Éù ·É°·Éê·ÉÆ·Éî·Éö·Éò·Éó)
function switchContactModule(tabId) {
    const activeTab = document.getElementById(`tab-${tabId}`);
    if (!activeTab) return; 

    // ·Éê·É•·É¢·Éò·É£·É†·Éò ·Éô·Éö·Éê·É°·Éî·Éë·Éò·É° ·Éí·Éê·É°·É£·É§·Éó·Éê·Éï·Éî·Éë·Éê
    document.querySelectorAll('.tab-pane').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.nl-tab-btn').forEach(b => b.classList.remove('active'));

    // ·Éê·ÉÆ·Éê·Éö·Éò ·É¢·Éê·Éë·Éò·É° ·Éì·Éê ·É¶·Éò·Éö·Éê·Éô·Éò·É° ·Éí·Éê·Éê·É•·É¢·Éò·É£·É†·Éî·Éë·Éê
    activeTab.classList.add('active');
    if (window.event && window.event.currentTarget) {
        window.event.currentTarget.classList.add('active');
    }

    // ·Éû·É†·Éù·Éí·É†·Éî·É° ·Éë·Éê·É†·Éî·Éë·Éò·É° ·É†·Éî-·Éê·Éú·Éò·Éõ·Éê·É™·Éò·Éê Info ·É¢·Éê·Éë·Éñ·Éî ·Éí·Éê·Éì·Éê·É°·Éï·Éö·Éò·É°·Éê·É°
    if (tabId === 'info') {
        const bars = activeTab.querySelectorAll('.fill');
        bars.forEach(bar => {
            const targetWidth = bar.getAttribute('data-width') || bar.style.width; 
            bar.style.width = '0%';
            setTimeout(() => {
                bar.style.width = targetWidth;
            }, 150);
        });
    }
    
    // ·É°·Éò·É°·É¢·Éî·Éõ·É£·É†·Éò ·Éö·Éù·Éí·Éò (·É°·É£·É†·Éï·Éò·Éö·Éò·É°·Éê·Éõ·Éî·Éë·É†)
    console.log(`[SYS] MODULE_MOUNTED: ${tabId.toUpperCase()}`);
}

// 2. Placeholder-·Éî·Éë·Éò·É° ·Éì·Éê ·É¢·Éî·É•·É°·É¢·Éî·Éë·Éò·É° ·Éó·Éê·É†·Éí·Éõ·Éú·Éò·É° ·Éö·Éù·Éí·Éò·Éô·Éê
function updateI18N(lang) {
    // ·É©·Éï·Éî·É£·Éö·Éî·Éë·É†·Éò·Éï·Éò ·É¢·Éî·É•·É°·É¢·Éî·Éë·Éò
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        // ·Éê·É• ·É£·Éú·Éì·Éê ·Éò·Éß·Éù·É° ·É®·Éî·Éú·Éò translations ·Éù·Éë·Éò·Éî·É•·É¢·Éò·Éì·Éê·Éú ·É¨·Éê·Éõ·Éù·É¶·Éî·Éë·É£·Éö·Éò ·É¢·Éî·É•·É°·É¢·Éò
        // if (translations[lang][key]) el.innerText = translations[lang][key];
    });

    // ·Éû·Éö·Éî·Éò·É°·É∞·Éù·Éö·Éì·Éî·É†·Éî·Éë·Éò
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        // el.setAttribute('placeholder', translations[lang][key]);
    });
}

// 3. ·É§·Éù·É†·Éõ·Éò·É° ·Éí·Éê·Éí·Éñ·Éê·Éï·Éú·Éò·É° ·É°·Éò·Éõ·É£·Éö·Éê·É™·Éò·Éê
document.getElementById('contactForm')?.addEventListener('submit', function(e) {
    e.preventDefault();
    const btn = this.querySelector('.nl-main-btn');
    const originalText = btn.innerHTML;

    // "Next-Gen" ·Éí·Éê·Éí·Éñ·Éê·Éï·Éú·Éò·É° ·Éî·É§·Éî·É•·É¢·Éò
    btn.style.opacity = '0.7';
    btn.innerHTML = '<span class="pulse">ENCRYPTING...</span>';
    btn.disabled = true;

    setTimeout(() => {
        btn.innerHTML = '<span style="color: #50ffaf;">SUCCESS_SENT</span>';
        
        // 3 ·É¨·Éê·Éõ·É®·Éò ·Éê·Éë·É†·É£·Éú·Éî·Éë·É° ·É°·Éê·É¨·Éß·Éò·É° ·Éõ·Éì·Éí·Éù·Éõ·Éê·É†·Éî·Éù·Éë·Éê·É°
        setTimeout(() => {
            btn.innerHTML = originalText;
            btn.style.opacity = '1';
            btn.disabled = false;
            this.reset();
        }, 3000);
    }, 1500);
});

// 4. ·É°·Éê·É¨·Éß·Éò·É°·Éò ·Éò·Éú·Éò·É™·Éò·Éê·Éö·Éò·Éñ·Éê·É™·Éò·Éê
document.addEventListener('DOMContentLoaded', () => {
    // ·Éï·É†·Éó·Éê·Éï·Éó ·Éû·Éò·É†·Éï·Éî·Éö·Éê·Éì ·Éê·Éú·Éò·Éõ·Éê·É™·Éò·Éê·É° ·Éó·É£ Info ·É¢·Éê·Éë·Éò ·É¶·Éò·Éê·Éê
    if (document.getElementById('tab-info').classList.contains('active')) {
        switchContactModule('info');
    }
});



function toggleMenu() {
    const nav = document.querySelector('.main-nav');
    const burger = document.getElementById('burgerBtn');

    if (!nav || !burger) return;

    const isOpen = nav.classList.toggle('mobile-active');
    burger.classList.toggle('open', isOpen);

    document.body.style.overflow = isOpen ? 'hidden' : 'auto';
}

/* MODULE-SAFE EVENT BINDING */
document.addEventListener('DOMContentLoaded', () => {
    const burger = document.getElementById('burgerBtn');
    if (burger) {
        burger.addEventListener('click', toggleMenu);
    }
});
window.toggleMenu = toggleMenu;
